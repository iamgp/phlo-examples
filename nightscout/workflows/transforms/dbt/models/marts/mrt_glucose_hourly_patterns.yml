# mrt_glucose_hourly_patterns.yml - Schema tests for glucose hourly patterns mart

version: 2

models:
  - name: mrt_glucose_hourly_patterns
    description: "Mart providing hourly glucose patterns"
    config:
      tags: ["nightscout", "mart", "api", "analyst"]
    columns:
      - name: hour_of_day
        description: "Hour of the day"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values:
                  [
                    0,
                    1,
                    2,
                    3,
                    4,
                    5,
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12,
                    13,
                    14,
                    15,
                    16,
                    17,
                    18,
                    19,
                    20,
                    21,
                    22,
                    23,
                  ]
                quote: false

      - name: avg_glucose_mg_dl
        description: "Average glucose for this hour"
        data_tests: []

      - name: reading_count
        description: "Number of readings in this hour"
        data_tests:
          - not_null

      - name: coefficient_of_variation
        description: "Coefficient of variation for glucose readings"
        data_tests: []
